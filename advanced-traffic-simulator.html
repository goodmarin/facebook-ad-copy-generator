<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>高级网站流量模拟器</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        .stat-number {
            font-size: 2em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
        }
        .config-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .config-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #fff;
        }
        .url-input {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            margin-bottom: 15px;
            font-size: 1em;
            background: rgba(255, 255, 255, 0.9);
        }
        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 30px;
            justify-content: center;
        }
        button {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        }
        button.auto-mode {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
        }
        button.stop-mode {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
        }
        .log {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            padding: 20px;
            max-height: 300px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        .log-entry {
            margin-bottom: 8px;
            padding: 5px;
            border-radius: 5px;
        }
        .log-success { background: rgba(46, 204, 113, 0.3); }
        .log-info { background: rgba(52, 152, 219, 0.3); }
        .log-warning { background: rgba(241, 196, 15, 0.3); }
        .log-error { background: rgba(231, 76, 60, 0.3); }
        .slider-container {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }
        .slider {
            flex: 1;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.3);
            outline: none;
        }
        .slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff6b6b;
            cursor: pointer;
        }
        .value-display {
            min-width: 60px;
            text-align: right;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>🌐 高级网站流量模拟器</h1>
        
        <div class="stats">
            <div class="stat-card">
                <div class="stat-number" id="totalClicks">0</div>
                <div class="stat-label">总点击次数</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="successfulClicks">0</div>
                <div class="stat-label">成功访问</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="currentSpeed">0</div>
                <div class="stat-label">当前速度(次/分钟)</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="elapsedTime">00:00</div>
                <div class="stat-label">运行时间</div>
            </div>
        </div>

        <div class="config-section">
            <div class="config-title">⚙️ 配置设置</div>
            <input type="text" class="url-input" id="targetUrl" 
                   placeholder="输入目标网站URL (例如: https://your-domain.com)" 
                   value="https://your-domain.com">
            
            <div class="slider-container">
                <label>点击间隔 (秒):</label>
                <input type="range" class="slider" id="clickInterval" min="1" max="10" value="2">
                <span class="value-display" id="intervalValue">2秒</span>
            </div>
            
            <div class="slider-container">
                <label>模拟用户数量:</label>
                <input type="range" class="slider" id="userCount" min="1" max="5" value="1">
                <span class="value-display" id="userCountValue">1个</span>
            </div>
            
            <div class="slider-container">
                <label>页面停留时间 (秒):</label>
                <input type="range" class="slider" id="stayTime" min="1" max="30" value="5">
                <span class="value-display" id="stayTimeValue">5秒</span>
            </div>
        </div>

        <div class="controls">
            <button onclick="startManualClick()">🖱️ 手动点击</button>
            <button onclick="startAutoClick()" class="auto-mode">🚀 自动点击</button>
            <button onclick="startRealisticMode()" class="auto-mode">🎭 真实模式</button>
            <button onclick="stopAutoClick()" class="stop-mode">⏹️ 停止自动</button>
            <button onclick="clearStats()">🗑️ 清空统计</button>
            <button onclick="exportLog()">📊 导出日志</button>
        </div>

        <div class="log" id="logContainer">
            <div class="log-entry log-info">🚀 高级流量模拟器已启动，准备生成Google Search Console流量数据...</div>
        </div>
    </div>

    <script>
        // 统计数据
        let stats = {
            totalClicks: 0,
            successfulClicks: 0,
            startTime: null,
            autoInterval: null,
            clickSpeed: 2000,
            userCount: 1,
            stayTime: 5000
        };

        // 模拟用户代理
        const userAgents = [
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',
            'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0',
            'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15',
            'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
        ];

        // 更新统计显示
        function updateStats() {
            document.getElementById('totalClicks').textContent = stats.totalClicks;
            document.getElementById('successfulClicks').textContent = stats.successfulClicks;
            
            if (stats.startTime) {
                const elapsed = Math.floor((Date.now() - stats.startTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                document.getElementById('elapsedTime').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                // 计算当前速度
                const speed = Math.round((stats.successfulClicks / (elapsed / 60)) * 10) / 10;
                document.getElementById('currentSpeed').textContent = speed;
            }
        }

        // 添加日志
        function addLog(message, type = 'info') {
            const logContainer = document.getElementById('logContainer');
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logContainer.appendChild(logEntry);
            logContainer.scrollTop = logContainer.scrollHeight;
        }

        // 模拟点击访问
        async function simulateClick(realistic = false) {
            const url = document.getElementById('targetUrl').value.trim();
            if (!url) {
                addLog('❌ 请先输入目标URL', 'warning');
                return;
            }

            stats.totalClicks++;
            updateStats();

            try {
                // 创建隐藏的iframe来模拟访问
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                
                if (realistic) {
                    // 真实模式：添加随机用户代理
                    const randomUserAgent = userAgents[Math.floor(Math.random() * userAgents.length)];
                    iframe.setAttribute('data-user-agent', randomUserAgent);
                }
                
                iframe.src = url;
                document.body.appendChild(iframe);

                // 模拟页面停留时间
                const stayTime = realistic ? Math.random() * stats.stayTime + 2000 : stats.stayTime;
                
                setTimeout(() => {
                    document.body.removeChild(iframe);
                    stats.successfulClicks++;
                    updateStats();
                    
                    const userInfo = realistic ? ` (用户${Math.floor(Math.random() * stats.userCount) + 1})` : '';
                    addLog(`✅ 成功访问: ${url}${userInfo}`, 'success');
                }, stayTime);

            } catch (error) {
                addLog(`❌ 访问失败: ${error.message}`, 'error');
            }
        }

        // 手动点击
        function startManualClick() {
            simulateClick();
        }

        // 开始自动点击
        function startAutoClick() {
            if (stats.autoInterval) {
                addLog('⚠️ 自动点击已在运行中', 'warning');
                return;
            }

            const url = document.getElementById('targetUrl').value.trim();
            if (!url) {
                addLog('❌ 请先输入目标URL', 'warning');
                return;
            }

            stats.startTime = Date.now();
            stats.autoInterval = setInterval(() => simulateClick(false), stats.clickSpeed);
            addLog(`🚀 开始自动点击，间隔: ${stats.clickSpeed/1000}秒`, 'info');
        }

        // 真实模式
        function startRealisticMode() {
            if (stats.autoInterval) {
                addLog('⚠️ 自动点击已在运行中', 'warning');
                return;
            }

            const url = document.getElementById('targetUrl').value.trim();
            if (!url) {
                addLog('❌ 请先输入目标URL', 'warning');
                return;
            }

            stats.startTime = Date.now();
            
            // 创建多个并发用户
            for (let i = 0; i < stats.userCount; i++) {
                setTimeout(() => {
                    simulateClick(true);
                    // 为每个用户设置不同的间隔
                    const userInterval = setInterval(() => {
                        if (!stats.autoInterval) {
                            clearInterval(userInterval);
                            return;
                        }
                        simulateClick(true);
                    }, stats.clickSpeed + Math.random() * 2000);
                }, i * 1000);
            }
            
            stats.autoInterval = true; // 标记为运行状态
            addLog(`🎭 开始真实模式，${stats.userCount}个用户，间隔: ${stats.clickSpeed/1000}秒`, 'info');
        }

        // 停止自动点击
        function stopAutoClick() {
            if (stats.autoInterval) {
                if (typeof stats.autoInterval === 'number') {
                    clearInterval(stats.autoInterval);
                }
                stats.autoInterval = null;
                addLog('⏹️ 已停止自动点击', 'info');
            }
        }

        // 清空统计
        function clearStats() {
            stats = {
                totalClicks: 0,
                successfulClicks: 0,
                startTime: null,
                autoInterval: null,
                clickSpeed: 2000,
                userCount: 1,
                stayTime: 5000
            };
            updateStats();
            document.getElementById('logContainer').innerHTML = 
                '<div class="log-entry log-info">🚀 高级流量模拟器已启动，准备生成Google Search Console流量数据...</div>';
            addLog('🗑️ 统计数据已清空', 'info');
        }

        // 导出日志
        function exportLog() {
            const logContainer = document.getElementById('logContainer');
            const logText = logContainer.innerText;
            const blob = new Blob([logText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `traffic-simulator-log-${new Date().toISOString().slice(0, 19)}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            addLog('📊 日志已导出', 'info');
        }

        // 更新滑块值显示
        function updateSliderValues() {
            document.getElementById('intervalValue').textContent = document.getElementById('clickInterval').value + '秒';
            document.getElementById('userCountValue').textContent = document.getElementById('userCount').value + '个';
            document.getElementById('stayTimeValue').textContent = document.getElementById('stayTime').value + '秒';
            
            stats.clickSpeed = document.getElementById('clickInterval').value * 1000;
            stats.userCount = parseInt(document.getElementById('userCount').value);
            stats.stayTime = document.getElementById('stayTime').value * 1000;
        }

        // 事件监听器
        document.getElementById('clickInterval').addEventListener('input', updateSliderValues);
        document.getElementById('userCount').addEventListener('input', updateSliderValues);
        document.getElementById('stayTime').addEventListener('input', updateSliderValues);

        // 定期更新统计
        setInterval(updateStats, 1000);

        // 页面加载完成
        window.addEventListener('load', () => {
            updateSliderValues();
            addLog('🎯 高级流量模拟器加载完成，用于Google Search Console数据生成', 'info');
            addLog('💡 提示: 将目标URL改为你的网站地址，然后开始模拟点击', 'info');
            addLog('🎭 真实模式会模拟多个用户的不同行为模式', 'info');
        });

        // 页面卸载时清理
        window.addEventListener('beforeunload', () => {
            if (stats.autoInterval) {
                if (typeof stats.autoInterval === 'number') {
                    clearInterval(stats.autoInterval);
                }
            }
        });
    </script>
</body>
</html>
