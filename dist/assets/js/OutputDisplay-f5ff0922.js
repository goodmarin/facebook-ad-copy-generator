import{j as e,g as s,d as t,a as l}from"./index-4eef1e3e.js";import{r}from"./vendor-79b9f383.js";import{C as a,a as n,A as d,b as i,c,d as x,S as o,E as m}from"./ui-779ff5f3.js";const h=({text:s,className:t=""})=>{const[l,d]=r.useState(!1);return e.jsx("button",{onClick:async()=>{try{await navigator.clipboard.writeText(s),d(!0),setTimeout(()=>{d(!1)},2e3)}catch(e){const t=document.createElement("textarea");t.value=s,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),d(!0),setTimeout(()=>{d(!1)},2e3)}},className:`inline-flex items-center justify-center p-2 rounded-lg transition-all duration-200 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${t}`,title:l?"已复制":"复制文案",children:l?e.jsx(a,{className:"w-4 h-4 text-green-600"}):e.jsx(n,{className:"w-4 h-4 text-gray-500 hover:text-gray-700"})})},b=e=>e.replace(/\*\*(.*?)\*\*/g,"$1").replace(/\*(.*?)\*/g,"$1").replace(/`(.*?)`/g,"$1").replace(/\[(.*?)\]\(.*?\)/g,"$1").trim(),g=(s,t)=>{if(0===t.length)return s;const l=[];let r=0;return t.forEach(t=>{const a=s.toLowerCase().indexOf(t.toLowerCase(),r);-1!==a&&(a>r&&l.push(s.slice(r,a)),l.push(e.jsx("span",{className:"bg-red-100 text-red-800 font-semibold px-1 rounded",children:s.slice(a,a+t.length)},`sensitive-${a}`)),r=a+t.length)}),r<s.length&&l.push(s.slice(r)),l.length>0?l:s},u=({copies:a,region:n,isLoading:u,error:f,isForbiddenProduct:j})=>{const p=s(n),[N,v]=r.useState(0);return u?e.jsx("div",{className:"card h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"loading-spinner mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"正在生成文案，请稍候..."})]})}):f?e.jsxs("div",{className:"card h-full",children:[e.jsxs("div",{className:"flex items-center text-red-600 mb-4",children:[e.jsx(d,{className:"w-5 h-5 mr-2"}),e.jsx("h3",{className:"text-lg font-semibold",children:"生成失败"})]}),e.jsx("p",{className:"text-gray-700",children:f}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-yellow-800",children:"💡 提示：如果遇到 API 问题，请检查网络连接或稍后重试"})})]}):0===a.length?e.jsxs("div",{className:"min-h-0",children:[e.jsxs("div",{className:"text-center text-gray-500 mb-8",children:[e.jsx("div",{className:"text-4xl mb-4",children:"📝"}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"等待生成文案"}),e.jsx("p",{className:"text-sm",children:'填写左侧表单并点击"生成文案"按钮'})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 px-6 mb-12",children:[e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"📋"}),"使用指南"]}),e.jsxs("ul",{className:"space-y-3 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"1"}),e.jsx("span",{children:"填写产品名称和核心功能特点"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"2"}),e.jsx("span",{children:"选择目标受众和投放地区"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"3"}),e.jsx("span",{children:"选择文案风格和语调"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold mr-3 mt-0.5",children:"4"}),e.jsx("span",{children:"点击生成按钮，等待AI创作"})]})]})]}),e.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-6 border border-gray-200/50 shadow-sm hover:shadow-md transition-all duration-200",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[e.jsx("span",{className:"text-2xl mr-2",children:"💡"}),"文案示例"]}),e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 border border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:"Product: Smart Watch"}),e.jsx("p",{className:"text-xs text-gray-600 leading-relaxed",children:'"🚀 Transform your fitness journey with our advanced smartwatch! 💪 Track your workouts, monitor heart rate, and get personalized insights. Stay motivated with real-time coaching. ⏰ Limited time offer - upgrade your health today! 🔥 Don\'t wait, start your transformation now!"'})]})})]})]})]}):e.jsxs("div",{className:"relative",children:[j&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center",children:[e.jsx(d,{className:"w-5 h-5 text-red-600 mr-2"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-red-700",children:"⚠️ 该产品可能违反Facebook广告发布政策，禁止投放！"}),e.jsx("a",{href:"https://www.facebook.com/business/help/488043719226449?id=434838534925385",target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-blue-600 underline hover:text-blue-800 text-xs",children:"查看政策详情"})]})]}),e.jsxs("div",{className:"card h-full flex flex-col pb-4 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 px-4 sm:px-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"生成的文案"}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 flex-shrink-0",children:[e.jsx(i,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{className:"hidden sm:inline",children:["已生成 ",a.length," 条文案"]}),e.jsxs("span",{className:"sm:hidden",children:[a.length," 条"]})]})]}),e.jsxs("div",{className:"relative flex-1 min-h-0",style:{maxHeight:a.length>0?"55vh":"40vh"},children:[a.length>1&&e.jsx("button",{onClick:()=>{v(e=>(e-1+a.length)%a.length)},className:"absolute left-2 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-2 transition-all duration-200 hover:scale-110",children:e.jsx(c,{className:"w-5 h-5 text-gray-600"})}),a.length>1&&e.jsx("button",{onClick:()=>{v(e=>(e+1)%a.length)},className:"absolute right-2 top-1/2 transform -translate-y-1/2 z-10 bg-white/90 hover:bg-white shadow-lg rounded-full p-2 transition-all duration-200 hover:scale-110",children:e.jsx(x,{className:"w-5 h-5 text-gray-600"})}),a.length>0&&e.jsx("div",{className:"w-full h-full flex items-center justify-center px-4 sm:px-8",children:e.jsxs("div",{className:"flex gap-4 w-full max-w-3xl",children:[e.jsxs("div",{className:"flex-1 max-w-sm border border-gray-200 rounded-2xl hover:border-blue-300 transition-all duration-300 bg-gradient-to-r from-white to-blue-50/30 floating-card overflow-hidden h-[400px]",dir:p,children:[e.jsxs("div",{className:"p-4 h-full flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3 pb-2 border-b border-gray-100 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-purple-500 rounded-full shadow-lg mr-2",children:N+1}),e.jsxs("span",{className:"text-sm font-semibold text-gray-800",children:["文案 ",N+1]})]}),e.jsx(h,{text:b(a[N]),className:"bg-white/80 hover:bg-white shadow-md"})]}),e.jsx("div",{className:"mb-3 flex-1",children:e.jsx("div",{className:"bg-white/80 rounded-xl p-4 border border-gray-100 h-full overflow-y-auto",children:e.jsx("div",{className:"text-gray-900 leading-relaxed whitespace-pre-wrap text-sm",children:g(b(a[N]),t(b(a[N])).detectedWords)})})}),t(b(a[N])).hasSensitiveWords&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-xl flex-shrink-0",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(d,{className:"w-4 h-4 text-red-600 mt-0.5 mr-2 flex-shrink-0"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"text-red-800 font-medium mb-1",children:"检测到可能违反广告政策的词汇："}),e.jsx("div",{className:"flex flex-wrap gap-1 mb-1",children:t(b(a[N])).detectedWords.map((s,t)=>e.jsx("span",{className:"bg-red-200 text-red-800 px-1.5 py-0.5 rounded text-xs",children:s},t))}),e.jsxs("p",{className:"text-red-700 text-xs",children:["建议：",t(b(a[N])).suggestions.join("；")]})]})]})})]}),e.jsx("div",{className:"absolute -top-1 -right-1 opacity-20",children:e.jsx(o,{className:"w-4 h-4 text-blue-400"})})]}),a.length>1&&e.jsx("div",{className:"w-1/3 max-w-xs border border-gray-200 rounded-2xl hover:border-blue-300 transition-all duration-300 bg-gradient-to-r from-white to-blue-50/30 floating-card overflow-hidden opacity-60 h-[300px]",dir:p,children:e.jsxs("div",{className:"p-3 h-full flex flex-col",children:[e.jsx("div",{className:"flex items-center justify-between mb-2 pb-1 border-b border-gray-100 flex-shrink-0",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"inline-flex items-center justify-center w-5 h-5 text-xs font-bold text-white bg-gradient-to-r from-blue-500 to-purple-500 rounded-full shadow-lg mr-2",children:(N+1)%a.length+1}),e.jsxs("span",{className:"text-xs font-semibold text-gray-800",children:["文案 ",(N+1)%a.length+1]})]})}),e.jsx("div",{className:"bg-white/80 rounded-xl p-3 border border-gray-100 flex-1 overflow-y-auto",children:e.jsx("div",{className:"text-gray-900 leading-relaxed whitespace-pre-wrap text-xs",children:g(b(a[(N+1)%a.length]),t(b(a[(N+1)%a.length])).detectedWords)})})]})})]})}),a.length>1&&e.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:a.map((s,t)=>e.jsx("button",{onClick:()=>v(t),className:"w-2 h-2 rounded-full transition-all duration-200 "+(t===N?"bg-blue-500":"bg-gray-300")},t))})]}),0===a.length&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl",children:[e.jsxs("h4",{className:"text-xs font-medium text-blue-800 mb-2 flex items-center",children:[e.jsx(o,{className:"w-3 h-3 mr-1"}),"使用提示"]}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsx("li",{children:"• 每条文案都是独立的，可以单独复制使用"}),e.jsx("li",{children:"• 红色高亮的词汇可能违反Facebook广告政策，请谨慎使用"}),e.jsx("li",{children:"• 生成的文案已针对 Facebook 广告优化，可直接使用"}),e.jsx("li",{children:"• 建议在正式投放前进行 A/B 测试"})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200",children:e.jsxs("a",{href:l(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-xs text-blue-600 hover:text-blue-800 transition-colors",children:[e.jsx(m,{className:"w-3 h-3 mr-1"}),"查看Facebook广告发布准则"]})})]}),e.jsxs("div",{className:"p-3 bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-xl",children:[e.jsxs("h4",{className:"text-xs font-medium text-green-800 mb-2 flex items-center",children:[e.jsx(i,{className:"w-3 h-3 mr-1"}),"生成统计"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-green-600",children:a.length}),e.jsx("div",{className:"text-xs text-green-700",children:"已生成文案"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-blue-600",children:a.filter(e=>t(b(e)).hasSensitiveWords).length}),e.jsx("div",{className:"text-xs text-blue-700",children:"需注意文案"})]})]}),e.jsx("div",{className:"mt-2 pt-2 border-t border-green-200",children:e.jsx("p",{className:"text-xs text-green-700",children:"💡 提示：建议对敏感词进行适当调整，提高广告通过率"})})]})]}),a.length>0&&e.jsxs("div",{className:"mt-6 mb-4 mx-2 sm:mx-4 lg:mx-6 p-4 bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl shadow-sm",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2 gap-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(m,{className:"w-4 h-4 text-blue-600 mr-2"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Facebook广告发布政策"})]}),e.jsxs("a",{href:l(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-sm text-blue-600 hover:text-blue-800 transition-colors bg-white/80 hover:bg-white px-3 py-1 rounded-lg shadow-sm self-start sm:self-center",children:["查看政策",e.jsx(m,{className:"w-3 h-3 ml-1"})]})]}),e.jsx("p",{className:"text-xs text-blue-700",children:"💡 提示：请确保您的广告文案符合Facebook广告政策，避免使用夸大宣传、误导性语言或违反社区准则的内容。"})]})]})]})};export{u as OutputDisplay};
