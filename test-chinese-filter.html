<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸­æ–‡å­—ç¬¦è¿‡æ»¤æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .test-section {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            backdrop-filter: blur(10px);
        }
        .test-input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        .test-button {
            background: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 5px;
        }
        .test-button:hover {
            background: #45a049;
        }
        .result {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
            white-space: pre-wrap;
            font-family: monospace;
        }
        .error {
            background: rgba(255, 0, 0, 0.3);
            border-left: 4px solid #ff0000;
        }
        .success {
            background: rgba(0, 255, 0, 0.3);
            border-left: 4px solid #00ff00;
        }
    </style>
</head>
<body>
    <h1>ğŸ§ª ä¸­æ–‡å­—ç¬¦è¿‡æ»¤æµ‹è¯•</h1>
    
    <div class="test-section">
        <h2>ğŸ” æµ‹è¯•ç”¨ä¾‹</h2>
        <p>è¿™ä¸ªæµ‹è¯•é¡µé¢ç”¨äºéªŒè¯ä¸­æ–‡å­—ç¬¦è¿‡æ»¤åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚æˆ‘ä»¬å°†æµ‹è¯•ä¸åŒè¯­è¨€å’Œåœ°åŒºçš„æ–‡æ¡ˆç”Ÿæˆã€‚</p>
        
        <h3>æµ‹è¯•è¾“å…¥ï¼š</h3>
        <input type="text" id="productName" class="test-input" value="æ™ºèƒ½æŠ•èµ„äº§å“" placeholder="äº§å“åç§°">
        <input type="text" id="productFeatures" class="test-input" value="é«˜æ”¶ç›Šã€ä½é£é™©ã€æ™ºèƒ½ç®¡ç†" placeholder="äº§å“ç‰¹æ€§">
        <input type="text" id="targetAudience" class="test-input" value="ä¸Šç­æ—" placeholder="ç›®æ ‡å—ä¼—">
        
        <h3>æµ‹è¯•åœ°åŒºï¼š</h3>
        <select id="testRegion" class="test-input">
            <option value="US">ç¾å›½ (English)</option>
            <option value="JP">æ—¥æœ¬ (Japanese)</option>
            <option value="KR">éŸ©å›½ (Korean)</option>
            <option value="CN">ä¸­å›½ (Simplified Chinese)</option>
        </select>
        
        <button onclick="testChineseFilter()" class="test-button">ğŸ§ª æµ‹è¯•ä¸­æ–‡å­—ç¬¦è¿‡æ»¤</button>
        <button onclick="clearResults()" class="test-button">ğŸ—‘ï¸ æ¸…é™¤ç»“æœ</button>
    </div>
    
    <div class="test-section">
        <h2>ğŸ“Š æµ‹è¯•ç»“æœ</h2>
        <div id="testResults"></div>
    </div>

    <script>
        // æ¨¡æ‹Ÿæ–‡æ¡ˆæœ¬åœ°åŒ–å¤„ç†å‡½æ•°
        function processCopyForLocalization(copy, language, region) {
            let processedCopy = copy;
            
            // æ ¹æ®è¯­è¨€è¿›è¡Œç‰¹å®šçš„æ¸…ç†
            switch (language) {
                case 'English':
                    // è‹±è¯­ï¼šç§»é™¤æ‰€æœ‰éè‹±è¯­å­—ç¬¦ï¼Œåªä¿ç•™è‹±æ–‡ã€æ•°å­—ã€è‹±æ–‡æ ‡ç‚¹å’Œå®‰å…¨emoji
                    processedCopy = processedCopy.replace(/[^\x00-\x7F\s]/g, char => {
                        return isSafeEmoji(char) ? char : '';
                    });
                    processedCopy = processedCopy.replace(/\s+/g, ' ').trim();
                    break;
                    
                case 'Japanese':
                    // æ—¥è¯­ï¼šä¿ç•™æ—¥è¯­å­—ç¬¦ï¼ˆå¹³å‡åã€ç‰‡å‡åï¼‰ã€è‹±æ–‡ã€æ•°å­—ã€æ—¥æ–‡æ ‡ç‚¹å’Œå®‰å…¨emojiï¼Œç§»é™¤ä¸­æ–‡å­—ç¬¦
                    processedCopy = processedCopy.replace(/[\u4E00-\u9FFF]/g, ''); // ç§»é™¤æ‰€æœ‰ä¸­æ–‡å­—ç¬¦
                    processedCopy = processedCopy.replace(/[^\x00-\x7F\u3040-\u309F\u30A0-\u30FF\uFF00-\uFFEF\s]/g, char => {
                        return isSafeEmoji(char) ? char : '';
                    });
                    // ç§»é™¤ä¸­æ–‡æ ‡ç‚¹ï¼Œä¿ç•™æ—¥æ–‡æ ‡ç‚¹
                    processedCopy = processedCopy.replace(/[ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘]/g, '');
                    processedCopy = processedCopy.replace(/\s+/g, ' ').trim();
                    break;
                    
                case 'Korean':
                    // éŸ©è¯­ï¼šä¿ç•™éŸ©è¯­å­—ç¬¦ï¼ˆè°šæ–‡ï¼‰ã€è‹±æ–‡ã€æ•°å­—ã€éŸ©æ–‡æ ‡ç‚¹å’Œå®‰å…¨emojiï¼Œç§»é™¤ä¸­æ–‡å­—ç¬¦
                    processedCopy = processedCopy.replace(/[\u4E00-\u9FFF]/g, ''); // ç§»é™¤æ‰€æœ‰ä¸­æ–‡å­—ç¬¦
                    processedCopy = processedCopy.replace(/[^\x00-\x7F\uAC00-\uD7AF\uFF00-\uFFEF\s]/g, char => {
                        return isSafeEmoji(char) ? char : '';
                    });
                    // ç§»é™¤ä¸­æ–‡æ ‡ç‚¹ï¼Œä¿ç•™éŸ©æ–‡æ ‡ç‚¹
                    processedCopy = processedCopy.replace(/[ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘]/g, '');
                    processedCopy = processedCopy.replace(/\s+/g, ' ').trim();
                    break;
                    
                case 'Simplified Chinese':
                case 'Traditional Chinese':
                    // ä¸­æ–‡ï¼šä¿ç•™ä¸­æ–‡å­—ç¬¦ã€è‹±æ–‡ã€æ•°å­—ã€ä¸­æ–‡æ ‡ç‚¹å’Œå®‰å…¨emoji
                    processedCopy = processedCopy.replace(/[^\x00-\x7F\u4E00-\u9FFF\uFF00-\uFFEF\s]/g, char => {
                        return isSafeEmoji(char) ? char : '';
                    });
                    processedCopy = processedCopy.replace(/\s+/g, ' ').trim();
                    break;
                    
                default:
                    // é»˜è®¤æƒ…å†µï¼šç§»é™¤æ‰€æœ‰ä¸­æ–‡å­—ç¬¦ï¼Œåªä¿ç•™è‹±æ–‡ã€æ•°å­—ã€æ ‡ç‚¹å’Œå®‰å…¨emoji
                    processedCopy = processedCopy.replace(/[\u4E00-\u9FFF]/g, ''); // ç§»é™¤æ‰€æœ‰ä¸­æ–‡å­—ç¬¦
                    processedCopy = processedCopy.replace(/[^\x00-\x7F\uFF00-\uFFEF\s]/g, char => {
                        return isSafeEmoji(char) ? char : '';
                    });
                    processedCopy = processedCopy.replace(/[ï¼Œã€‚ï¼ï¼Ÿï¼›ï¼š""''ï¼ˆï¼‰ã€ã€‘]/g, '');
                    processedCopy = processedCopy.replace(/\s+/g, ' ').trim();
                    break;
            }
            
            return processedCopy;
        }

        // æ£€æŸ¥emojiæ˜¯å¦å®‰å…¨
        function isSafeEmoji(char) {
            const safeEmojiRanges = [
                [0x1F600, 0x1F64F], // è¡¨æƒ…ç¬¦å·
                [0x1F300, 0x1F5FF], // æ‚é¡¹ç¬¦å·å’Œè±¡å½¢æ–‡å­—
                [0x1F680, 0x1F6FF], // äº¤é€šå’Œåœ°å›¾ç¬¦å·
                [0x1F1E0, 0x1F1FF], // åŒºåŸŸæŒ‡ç¤ºç¬¦å·
                [0x2600, 0x26FF],   // æ‚é¡¹ç¬¦å·
                [0x2700, 0x27BF],   // è£…é¥°ç¬¦å·
                [0xFE00, 0xFE0F],   // å˜ä½“é€‰æ‹©å™¨
                [0x1F900, 0x1F9FF], // è¡¥å……ç¬¦å·å’Œè±¡å½¢æ–‡å­—
                [0x1F018, 0x1F270], // å°é—­å­—æ¯æ•°å­—è¡¥å……
            ];
            
            const codePoint = char.codePointAt(0);
            if (!codePoint) return false;
            
            return safeEmojiRanges.some(([start, end]) => codePoint >= start && codePoint <= end);
        }

        // è·å–åœ°åŒºè¯­è¨€é…ç½®
        function getLanguageAndStyle(region) {
            const regionConfig = {
                'US': { language: 'English', style: 'confident and aspirational' },
                'JP': { language: 'Japanese', style: 'ä¸å¯§ã§å“è³ªé‡è¦–' },
                'KR': { language: 'Korean', style: 'íŠ¸ë Œë””í•˜ê³  ìŠ¤íƒ€ì¼ë¦¬ì‹œ' },
                'CN': { language: 'Simplified Chinese', style: 'ä¸“ä¸šå¯é ï¼Œæ³¨é‡å“è´¨' }
            };
            
            return regionConfig[region] || { language: 'English', style: 'professional and reliable' };
        }

        // æµ‹è¯•ä¸­æ–‡å­—ç¬¦è¿‡æ»¤
        function testChineseFilter() {
            const resultsDiv = document.getElementById('testResults');
            const region = document.getElementById('testRegion').value;
            const config = getLanguageAndStyle(region);
            
            // æ¨¡æ‹ŸAIç”Ÿæˆçš„æ–‡æ¡ˆï¼ˆåŒ…å«ä¸­æ–‡ï¼‰
            const testCopies = [
                `âœ¨ Transform your life with Investment Products! âœ¨ Wealth Building Affordable Investment with Good Returns designed for **ä¸Šç­æ—**. Experience the **perfect** fusion of technology and lifestyle! âœ¨`,
                `ğŸ‰ æŠ•è³‡å•†å“ã§äººç”Ÿã‚’å¤‰ãˆã‚ˆã†! ğŸ‰ è³‡ç”£æ§‹ç¯‰ æ‰‹é ƒãªæŠ•è³‡ã§è‰¯ã„ãƒªã‚¿ãƒ¼ãƒ³ ğŸ‰ **ä¸Šç­æ—**ã®ãŸã‚ã«è¨­è¨ˆã•ã‚Œã¾ã—ãŸãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã¨ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã®å®Œç’§ãªèåˆã‚’ä½“é¨“ã—ã‚ˆã†! ğŸ‰`,
                `ğŸš€ íˆ¬ì ìƒí’ˆìœ¼ë¡œ ì¸ìƒì„ ë°”ê¿”ë³´ì„¸ìš”! ğŸš€ ìì‚° êµ¬ì¶• í•©ë¦¬ì ì¸ íˆ¬ìë¡œ ì¢‹ì€ ìˆ˜ìµ ğŸš€ **ä¸Šç­æ—**ì„ ìœ„í•´ ì„¤ê³„ëœ ê¸°ìˆ ê³¼ ë¼ì´í”„ìŠ¤íƒ€ì¼ì˜ ì™„ë²½í•œ ìœµí•©ì„ ê²½í—˜í•˜ì„¸ìš”! ğŸš€`
            ];
            
            let results = `<h3>ğŸ§ª æµ‹è¯•ç»“æœ - ${region} (${config.language})</h3>`;
            
            testCopies.forEach((copy, index) => {
                const originalCopy = copy;
                const processedCopy = processCopyForLocalization(copy, config.language, region);
                
                // æ£€æŸ¥æ˜¯å¦è¿˜åŒ…å«ä¸­æ–‡å­—ç¬¦
                const hasChinese = /[\u4E00-\u9FFF]/.test(processedCopy);
                const hasTargetAudience = processedCopy.includes('ä¸Šç­æ—');
                
                const status = hasChinese ? 'âŒ å¤±è´¥' : 'âœ… æˆåŠŸ';
                const chineseStatus = hasTargetAudience ? 'âŒ ä»åŒ…å«ç›®æ ‡å—ä¼—ä¸­æ–‡' : 'âœ… å·²è¿‡æ»¤ç›®æ ‡å—ä¼—ä¸­æ–‡';
                
                results += `
<div class="result ${hasChinese ? 'error' : 'success'}">
ğŸ“ æ–‡æ¡ˆ ${index + 1}:
${status} - ${chineseStatus}

ğŸ” åŸå§‹æ–‡æ¡ˆ:
${originalCopy}

ğŸ§¹ å¤„ç†åæ–‡æ¡ˆ:
${processedCopy}

ğŸ“Š åˆ†æ:
- åŒ…å«ä¸­æ–‡å­—ç¬¦: ${hasChinese ? 'æ˜¯' : 'å¦'}
- åŒ…å«"ä¸Šç­æ—": ${hasTargetAudience ? 'æ˜¯' : 'å¦'}
- æ–‡æ¡ˆé•¿åº¦: ${processedCopy.length} å­—ç¬¦
</div>`;
            });
            
            resultsDiv.innerHTML = results;
        }

        // æ¸…é™¤ç»“æœ
        function clearResults() {
            document.getElementById('testResults').innerHTML = '';
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è¿è¡Œä¸€æ¬¡æµ‹è¯•
        window.onload = function() {
            testChineseFilter();
        };
    </script>
</body>
</html>
