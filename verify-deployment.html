<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>éªŒè¯ GitHub Pages éƒ¨ç½²</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
        .test-item { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
        .success { background-color: #d4edda; border-color: #c3e6cb; }
        .error { background-color: #f8d7da; border-color: #f5c6cb; }
        .pending { background-color: #fff3cd; border-color: #ffeaa7; }
        button { padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; }
        button:hover { background-color: #0056b3; }
        pre { background-color: #f8f9fa; padding: 10px; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>ğŸ” GitHub Pages éƒ¨ç½²éªŒè¯</h1>
    
    <div class="test-item pending" id="test-website">
        <h3>ğŸ“± 1. ç½‘ç«™è®¿é—®æµ‹è¯•</h3>
        <p>æ£€æŸ¥ä¸»ç½‘ç«™æ˜¯å¦å¯ä»¥æ­£å¸¸è®¿é—®...</p>
        <button onclick="testWebsite()">æµ‹è¯•ç½‘ç«™è®¿é—®</button>
        <div id="website-result"></div>
    </div>

    <div class="test-item pending" id="test-api">
        <h3>ğŸ¤– 2. API åŠŸèƒ½æµ‹è¯•</h3>
        <p>æµ‹è¯• DeepSeek API æ•ˆæœé¢„æµ‹åŠŸèƒ½...</p>
        <button onclick="testAPI()">æµ‹è¯• API åŠŸèƒ½</button>
        <div id="api-result"></div>
    </div>

    <div class="test-item pending" id="test-integration">
        <h3>ğŸ”— 3. ç»„ä»¶é›†æˆæµ‹è¯•</h3>
        <p>æ£€æŸ¥ React ç»„ä»¶æ˜¯å¦æ­£ç¡®åŠ è½½...</p>
        <button onclick="testIntegration()">æµ‹è¯•ç»„ä»¶é›†æˆ</button>
        <div id="integration-result"></div>
    </div>

    <script>
        async function testWebsite() {
            const resultDiv = document.getElementById('website-result');
            const testDiv = document.getElementById('test-website');
            
            try {
                resultDiv.innerHTML = '<p>ğŸ”„ æ­£åœ¨æµ‹è¯•ç½‘ç«™è®¿é—®...</p>';
                
                const response = await fetch('https://goodmarin.github.io/facebook-ad-copy-generator/');
                
                if (response.ok) {
                    const html = await response.text();
                    const hasTitle = html.includes('Facebook') && html.includes('æ–‡æ¡ˆç”Ÿæˆå™¨');
                    
                    if (hasTitle) {
                        testDiv.className = 'test-item success';
                        resultDiv.innerHTML = `
                            <p>âœ… ç½‘ç«™è®¿é—®æˆåŠŸï¼</p>
                            <p>ğŸ“Š çŠ¶æ€ç : ${response.status}</p>
                            <p>ğŸ¯ é¡µé¢æ ‡é¢˜æ£€æµ‹: é€šè¿‡</p>
                        `;
                    } else {
                        testDiv.className = 'test-item error';
                        resultDiv.innerHTML = `
                            <p>âš ï¸ ç½‘ç«™å¯è®¿é—®ä½†å†…å®¹å¼‚å¸¸</p>
                            <p>ğŸ“Š çŠ¶æ€ç : ${response.status}</p>
                            <p>âŒ é¡µé¢æ ‡é¢˜æ£€æµ‹: å¤±è´¥</p>
                        `;
                    }
                } else {
                    throw new Error(`HTTP ${response.status}`);
                }
            } catch (error) {
                testDiv.className = 'test-item error';
                resultDiv.innerHTML = `
                    <p>âŒ ç½‘ç«™è®¿é—®å¤±è´¥</p>
                    <p>ğŸ”´ é”™è¯¯: ${error.message}</p>
                `;
            }
        }

        async function testAPI() {
            const resultDiv = document.getElementById('api-result');
            const testDiv = document.getElementById('test-api');
            
            try {
                resultDiv.innerHTML = '<p>ğŸ”„ æ­£åœ¨æµ‹è¯• DeepSeek API...</p>';
                
                const response = await fetch('https://api.deepseek.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': 'Bearer sk-674b29e0b86846bca55195b66eb3e3aa'
                    },
                    body: JSON.stringify({
                        model: 'deepseek-chat',
                        messages: [
                            {
                                role: 'system',
                                content: 'ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„Facebookå¹¿å‘Šæ•ˆæœé¢„æµ‹ä¸“å®¶ã€‚'
                            },
                            {
                                role: 'user',
                                content: 'è¯·å¯¹ä»¥ä¸‹å¹¿å‘Šæ–‡æ¡ˆè¿›è¡Œæ•ˆæœé¢„æµ‹ï¼šğŸš€ æ™ºèƒ½æ‰‹æœºæ–°å“ä¸Šå¸‚ï¼Œé™æ—¶ä¼˜æƒ ï¼è¯·è¿”å›æ ¼å¼ï¼šCTR: [ç™¾åˆ†æ¯”] è¯„åˆ†: [æ˜Ÿçº§] å»ºè®®: [å»ºè®®]'
                            }
                        ],
                        max_tokens: 200,
                        temperature: 0.3
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    const content = data.choices[0]?.message?.content;
                    
                    if (content) {
                        testDiv.className = 'test-item success';
                        resultDiv.innerHTML = `
                            <p>âœ… API æµ‹è¯•æˆåŠŸï¼</p>
                            <p>ğŸ“Š çŠ¶æ€ç : ${response.status}</p>
                            <p>ğŸ¤– AI å›å¤:</p>
                            <pre>${content}</pre>
                        `;
                    } else {
                        throw new Error('API è¿”å›æ•°æ®æ ¼å¼å¼‚å¸¸');
                    }
                } else {
                    throw new Error(`API è°ƒç”¨å¤±è´¥: ${response.status}`);
                }
            } catch (error) {
                testDiv.className = 'test-item error';
                resultDiv.innerHTML = `
                    <p>âŒ API æµ‹è¯•å¤±è´¥</p>
                    <p>ğŸ”´ é”™è¯¯: ${error.message}</p>
                `;
            }
        }

        async function testIntegration() {
            const resultDiv = document.getElementById('integration-result');
            const testDiv = document.getElementById('test-integration');
            
            try {
                resultDiv.innerHTML = '<p>ğŸ”„ æ­£åœ¨æ£€æŸ¥ç»„ä»¶é›†æˆ...</p>';
                
                // æ£€æŸ¥ä¸»è¦ JavaScript æ–‡ä»¶
                const jsResponse = await fetch('https://goodmarin.github.io/facebook-ad-copy-generator/assets/js/index-956fad1e.js');
                
                if (jsResponse.ok) {
                    const jsContent = await jsResponse.text();
                    
                    // æ£€æŸ¥å…³é”®ç»„ä»¶å’ŒåŠŸèƒ½
                    const hasDeepSeek = jsContent.toLowerCase().includes('deepseek');
                    const hasReact = jsContent.includes('React');
                    const hasComponents = jsContent.includes('OutputDisplay') || jsContent.includes('output');
                    
                    testDiv.className = 'test-item success';
                    resultDiv.innerHTML = `
                        <p>âœ… ç»„ä»¶é›†æˆæ£€æŸ¥å®Œæˆï¼</p>
                        <p>ğŸ“Š JavaScript æ–‡ä»¶: å·²åŠ è½½</p>
                        <p>ğŸ¤– DeepSeek é›†æˆ: ${hasDeepSeek ? 'âœ… åŒ…å«' : 'âŒ ç¼ºå¤±'}</p>
                        <p>âš›ï¸ React ç»„ä»¶: ${hasReact ? 'âœ… åŒ…å«' : 'âŒ ç¼ºå¤±'}</p>
                        <p>ğŸ”— è¾“å‡ºç»„ä»¶: ${hasComponents ? 'âœ… åŒ…å«' : 'âŒ ç¼ºå¤±'}</p>
                        <p>ğŸ“ æ–‡ä»¶å¤§å°: ${(jsContent.length / 1024).toFixed(1)} KB</p>
                    `;
                } else {
                    throw new Error(`JavaScript æ–‡ä»¶åŠ è½½å¤±è´¥: ${jsResponse.status}`);
                }
            } catch (error) {
                testDiv.className = 'test-item error';
                resultDiv.innerHTML = `
                    <p>âŒ ç»„ä»¶é›†æˆæ£€æŸ¥å¤±è´¥</p>
                    <p>ğŸ”´ é”™è¯¯: ${error.message}</p>
                `;
            }
        }

        // è‡ªåŠ¨è¿è¡Œæ‰€æœ‰æµ‹è¯•
        window.onload = function() {
            setTimeout(() => {
                testWebsite();
                setTimeout(() => {
                    testAPI();
                    setTimeout(() => {
                        testIntegration();
                    }, 2000);
                }, 2000);
            }, 1000);
        };
    </script>
</body>
</html>
